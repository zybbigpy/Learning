# gcc/g++编译选项总结

## 检查你的gcc与g++版本

在命令行中输入以下指令来检查你的gcc版本. 检查版本有助于解决源代码的编译依赖. 在Makefile与CMakeList中可以直接指定编译器的绝对路径来使用指定的编译器版本.

```bash
gcc -v # check your gcc or g++ version. path maybe : /usr/bin/gcc
```

## 一般的编译过程

1. 预处理, 生成.i的文档 (预处理器cpp) .
2. 将预处理后的文档不转换成汇编语言, 生成文档.s (编译器egcs) .  
3. 有汇编变为目标代码 (机器代码), 生成.o的文档 (汇编器as) .  
4. 连接目标代码, 生成可执行程式 (链接器ld, 默认生成a.out) .

## 编译选项

### 一般编译选项概览

以下的编译选项可以组合使用 :

``` bash
-c
#只激活预处理,编译,和汇编,也就生成obj文件
-S
#只激活预处理和编译,就是指把文档编译成为汇编代码
-E
#只激活预处理,不生成文档,需要把他重定向到一个输出文档里。
-o
#定制目标名称,缺省的时候gcc 编译出来的文档是a.out
-ansi
#关闭gnu c中和ansi c不兼容的特性,激活ansi c的专有特性。
-llibrary
#指定库-Ldir：定制编译的时候,搜索库的路径。
-g
#指示编译器,在编译的时候,产生调试信息.
-static
#此选项将禁止使用动态库,所以,编译出来的东西,一般都很大。
-share
#此选项将尽量使用动态库,所以生成文档比较小,但是需要系统由动态库。
-O0 -O1 -O2 -O3
 #编译器的优化选项的4个级别,-O0表示没有优化,-O1为缺省值,-O3优化级别最高
-Wall
#会打开一些很有用的警告选项,建议编译时加此选项。
-std
#指定C标准,如-std=c99使用c99标准,-std=gnu99,使用C99 再加上 GNU 的一些扩展
```

### 链接库(静态, 动态)

### 调试信息

## GCC 环境变量

1. `LD_LIBRARY_PATH`: 动态链接库路径
2. `LIBRARY_PATH`: 静态链接库路径
3. `C_INCLUDE_PATH`: C头文件搜索路径
4. `C_PLUS_INCLUDE_PATH`: C++头文件搜索路径

## 源代码中 #program 宏改变gcc的行为
